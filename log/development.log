Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (17.0ms)[0m  [1mCREATE TABLE "blocks" ("id" serial primary key, "blocker_id" integer, "blocked_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (4.6ms)[0m  CREATE TABLE "genders" ("id" serial primary key, "title" character varying(255) DEFAULT 'custom' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (3.4ms)[0m  [1mCREATE TABLE "interests" ("id" serial primary key, "user_id" integer, "gender_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (5.6ms)[0m  CREATE TABLE "messages" ("id" serial primary key, "sender_id" integer, "recipient_id" integer, "content" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "sender_readability" boolean DEFAULT 't', "recipient_readability" boolean DEFAULT 't', "viewed" boolean DEFAULT 'f') 
  [1m[36m (4.2ms)[0m  [1mCREATE TABLE "pings" ("id" serial primary key, "pinger_id" integer, "pinged_id" integer, "ping_type" character varying(255), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "viewed" boolean DEFAULT 'f') [0m
  [1m[35m (7.5ms)[0m  CREATE TABLE "profiles" ("id" serial primary key, "image_1" character varying(255) DEFAULT 'default.jpg' NOT NULL, "image_2" character varying(255), "image_3" character varying(255), "image_4" character varying(255), "image_5" character varying(255), "fav_characters" text, "fav_spots" text, "fav_places" text, "guilty_pleasure" character varying(255), "occupation" character varying(255), "icon" character varying(255), "interests" text, "link" character varying(255), "quip" character varying(255), "flags" integer DEFAULT 0 NOT NULL, "fb_interests" text, "user_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "industry" character varying(255) DEFAULT 'Tech', "why_tech" character varying(255), "stack" character varying(255)) 
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "tracks" ("id" serial primary key, "tracker_id" integer, "tracked_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (1.1ms)[0m  CREATE INDEX "index_tracks_on_tracked_id" ON "tracks" ("tracked_id")
  [1m[36m (1.3ms)[0m  [1mCREATE INDEX "index_tracks_on_tracker_id" ON "tracks" ("tracker_id")[0m
  [1m[35m (5.7ms)[0m  CREATE TABLE "users" ("id" serial primary key, "name" character varying(255) NOT NULL, "gender_id" integer NOT NULL, "relationship_status" character varying(255) DEFAULT 'single' NOT NULL, "birthday" date NOT NULL, "location" character varying(255) NOT NULL, "role" character varying(255) DEFAULT 'basic' NOT NULL, "other" character varying(255) DEFAULT '' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying(255), "last_sign_in_ip" character varying(255), "uid" character varying(255), "provider" character varying(255), "zipcode" character varying(255), "latitude" float, "longitude" float, "distance" float) 
  [1m[36m (2.2ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140522212758')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140516155704')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140516161834')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140516165346')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140516165423')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140516170134')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140516170145')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140516170216')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140517115337')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140517120950')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140517135024')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140517141725')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140517202130')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140519133105')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140519133830')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140519135405')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140519143127')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140520104844')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140520110536')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140521082545')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140521193440')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140521221527')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140522092726')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140522103904')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140522110442')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140522112119')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140522212528')
  [1m[36m (0.6ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (5.3ms)[0m  [1mINSERT INTO "genders" ("created_at", "title", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Mon, 26 May 2014 13:14:24 UTC +00:00], ["title", "Male"], ["updated_at", Mon, 26 May 2014 13:14:24 UTC +00:00]]
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "genders" ("created_at", "title", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Mon, 26 May 2014 13:14:24 UTC +00:00], ["title", "Female"], ["updated_at", Mon, 26 May 2014 13:14:24 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "genders" ("created_at", "title", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Mon, 26 May 2014 13:14:24 UTC +00:00], ["title", "MTF"], ["updated_at", Mon, 26 May 2014 13:14:24 UTC +00:00]]
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "genders" ("created_at", "title", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["created_at", Mon, 26 May 2014 13:14:24 UTC +00:00], ["title", "FTM"], ["updated_at", Mon, 26 May 2014 13:14:24 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "genders" ("created_at", "title", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["created_at", Mon, 26 May 2014 13:14:24 UTC +00:00], ["title", "Custom"], ["updated_at", Mon, 26 May 2014 13:14:24 UTC +00:00]]
  [1m[35m (0.3ms)[0m  COMMIT
Connecting to database specified by database.yml


Started GET "/" for 127.0.0.1 at 2014-05-26 14:14:35 +0100
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 11 LIMIT 1[0m
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/sessions/new.html.erb within layouts/layout_for_sessions_controller (8.6ms)
Warning. Error encountered while saving cache 5e2f6f095e8d92b589044be5163afcfa0fdac8a9/omniauth_callbacks.css.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 5e2f6f095e8d92b589044be5163afcfa0fdac8a9/styles.css.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache f0388d48f79ab9d2df22e7ec217ea1b048d31e9c/bootstrap.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_variables.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_mixins.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_hide-text.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_opacity.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_image.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_labels.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_reset-filter.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_resize.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_responsive-visibility.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_size.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_tab-focus.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_text-emphasis.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_text-overflow.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_vendor-prefixes.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_alerts.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_buttons.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_panels.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_pagination.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_list-group.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_nav-divider.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_forms.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_progress-bar.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_table-row.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_background-variant.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_border-radius.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_gradients.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_clearfix.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_center-block.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_nav-vertical-align.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_grid-framework.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 2e00faa4fe27d6cc11fc511aa6494a213d484052/_grid.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_normalize.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_print.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_glyphicons.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_scaffolding.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_type.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_code.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_grid.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_tables.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_forms.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_buttons.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_component-animations.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_dropdowns.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_button-groups.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_input-groups.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_navs.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_navbar.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_breadcrumbs.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_pagination.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_pager.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_labels.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_badges.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_jumbotron.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_thumbnails.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_alerts.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_progress-bars.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_media.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_list-group.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_panels.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_responsive-embed.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_wells.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_close.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_modals.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_tooltip.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_popovers.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_carousel.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_utilities.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 330ab3ecef49ce3d91dcfb4d3c41cb3ba8c52257/_responsive-utilities.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Warning. Error encountered while saving cache 5e2f6f095e8d92b589044be5163afcfa0fdac8a9/tracks.css.scssc: can't dump anonymous class #<Class:0x007f9bd267b130>

Completed 200 OK in 3643.0ms (Views: 3541.8ms | ActiveRecord: 11.0ms | Solr: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:39 +0100


Started GET "/assets/omniauth_callbacks.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:39 +0100


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:39 +0100


Started GET "/assets/tracks.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:39 +0100


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:39 +0100


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:39 +0100


Started GET "/assets/tracks.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:39 +0100


Started GET "/assets/omniauth_callbacks.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:39 +0100


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:39 +0100


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:39 +0100


Started GET "/users/auth/facebook" for 127.0.0.1 at 2014-05-26 14:14:44 +0100


Started GET "/users/auth/facebook/callback?code=AQC_n9vdpLnVbl3oQs30Zfkty8T-i-oNDx7E8LipakW2FStv0fuBjJyxJBhQZ_tAQIWg4XVKPg14Vtp9XPTaJ1kGjKj9QNqDqui0Y_gDLeE0AcPhBj6XTmGxUkdDD5h7J0OEC4WHLIJcjN7nng_ibtBYjUJUEfQnu2XFqvwHvsM8YltNh1NUs_F2Q-DRpue-Yz-zPxUliWg7WAZH17E5aLvXtapor2_cdiJ1XXJxcPj2bVa2qAgl13lJ09eOP0p3ZV-kojT75JarDzm3zVnexGZfoSAkIq2yoqhXbhK_DWHK4HDsqseAONVbdlv2YT6rjrc&state=7d89e9f2eae11a5ca11ada60ac2c69da65bc3ab8c6064e66" for 127.0.0.1 at 2014-05-26 14:14:44 +0100
Processing by OmniauthCallbacksController#facebook as HTML
  Parameters: {"code"=>"AQC_n9vdpLnVbl3oQs30Zfkty8T-i-oNDx7E8LipakW2FStv0fuBjJyxJBhQZ_tAQIWg4XVKPg14Vtp9XPTaJ1kGjKj9QNqDqui0Y_gDLeE0AcPhBj6XTmGxUkdDD5h7J0OEC4WHLIJcjN7nng_ibtBYjUJUEfQnu2XFqvwHvsM8YltNh1NUs_F2Q-DRpue-Yz-zPxUliWg7WAZH17E5aLvXtapor2_cdiJ1XXJxcPj2bVa2qAgl13lJ09eOP0p3ZV-kojT75JarDzm3zVnexGZfoSAkIq2yoqhXbhK_DWHK4HDsqseAONVbdlv2YT6rjrc", "state"=>"7d89e9f2eae11a5ca11ada60ac2c69da65bc3ab8c6064e66"}
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'jasonklein@gmail.com' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."provider" = 'facebook' AND "users"."uid" = '10102893749499609' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'jasonklein@gmail.com' LIMIT 1[0m
  [1m[35mSQL (12.4ms)[0m  INSERT INTO "users" ("birthday", "created_at", "current_sign_in_at", "current_sign_in_ip", "distance", "email", "encrypted_password", "gender_id", "last_sign_in_at", "last_sign_in_ip", "latitude", "location", "longitude", "name", "other", "provider", "relationship_status", "remember_created_at", "reset_password_sent_at", "reset_password_token", "role", "sign_in_count", "uid", "updated_at", "zipcode") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25) RETURNING "id"  [["birthday", Tue, 06 Apr 1982], ["created_at", Mon, 26 May 2014 13:14:47 UTC +00:00], ["current_sign_in_at", nil], ["current_sign_in_ip", nil], ["distance", nil], ["email", "jasonklein@gmail.com"], ["encrypted_password", "$2a$10$lHrOiClDmRDN2IPfpoCKv.iHuP5ocl12prbdKbfETgS/gLgOoTmtq"], ["gender_id", 1], ["last_sign_in_at", nil], ["last_sign_in_ip", nil], ["latitude", 51.508515], ["location", "London, United Kingdom"], ["longitude", -0.1254872], ["name", "Jason Banks"], ["other", ""], ["provider", "facebook"], ["relationship_status", "single"], ["remember_created_at", nil], ["reset_password_sent_at", nil], ["reset_password_token", nil], ["role", "new"], ["sign_in_count", 0], ["uid", "10102893749499609"], ["updated_at", Mon, 26 May 2014 13:14:47 UTC +00:00], ["zipcode", nil]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mProfile Load (0.6ms)[0m  SELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "profiles" ("created_at", "fav_characters", "fav_places", "fav_spots", "fb_interests", "flags", "guilty_pleasure", "icon", "image_1", "image_2", "image_3", "image_4", "image_5", "industry", "interests", "link", "occupation", "quip", "stack", "updated_at", "user_id", "why_tech") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22) RETURNING "id"  [["created_at", Mon, 26 May 2014 13:14:47 UTC +00:00], ["fav_characters", nil], ["fav_places", nil], ["fav_spots", nil], ["fb_interests", nil], ["flags", 0], ["guilty_pleasure", nil], ["icon", nil], ["image_1", "http://www.india-forums.com/images/celebrity/m_10046.jpg"], ["image_2", nil], ["image_3", nil], ["image_4", nil], ["image_5", nil], ["industry", "Tech"], ["interests", nil], ["link", nil], ["occupation", nil], ["quip", nil], ["stack", nil], ["updated_at", Mon, 26 May 2014 13:14:47 UTC +00:00], ["user_id", 1], ["why_tech", nil]]
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = '2014-05-26 13:14:47.653927', "current_sign_in_at" = '2014-05-26 13:14:47.653927', "last_sign_in_ip" = '127.0.0.1', "current_sign_in_ip" = '127.0.0.1', "sign_in_count" = 1, "updated_at" = '2014-05-26 13:14:47.655266' WHERE "users"."id" = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.7ms)[0m  UPDATE "users" SET "role" = 'basic', "updated_at" = '2014-05-26 13:14:47.737254' WHERE "users"."id" = 1
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/users/1/sign_up_1
Completed 302 Found in 786.9ms (ActiveRecord: 23.2ms)


Started GET "/users/1/sign_up_1" for 127.0.0.1 at 2014-05-26 14:14:47 +0100
Processing by UsersController#gender_zipcode as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mGender Load (0.3ms)[0m  SELECT "genders".* FROM "genders" 
  [1m[36mSQL (0.7ms)[0m  [1mSELECT "genders".id FROM "genders" INNER JOIN "interests" ON "genders"."id" = "interests"."gender_id" WHERE "interests"."user_id" = 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT "genders".id FROM "genders" INNER JOIN "interests" ON "genders"."id" = "interests"."gender_id" WHERE "interests"."user_id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "genders".id FROM "genders" INNER JOIN "interests" ON "genders"."id" = "interests"."gender_id" WHERE "interests"."user_id" = 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "genders".id FROM "genders" INNER JOIN "interests" ON "genders"."id" = "interests"."gender_id" WHERE "interests"."user_id" = 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT "genders".id FROM "genders" INNER JOIN "interests" ON "genders"."id" = "interests"."gender_id" WHERE "interests"."user_id" = 1[0m
  Rendered users/_gender_zipcode.html.haml (53.2ms)
  Rendered users/gender_zipcode.html.haml within layouts/application (55.5ms)
  [1m[35mProfile Load (0.6ms)[0m  SELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 1 AND "messages"."viewed" = 'f'[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "pings" WHERE "pings"."pinged_id" = 1 AND "pings"."viewed" = 'f'
Completed 200 OK in 295.1ms (Views: 187.8ms | ActiveRecord: 13.3ms | Solr: 0.0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:48 +0100


Started GET "/assets/omniauth_callbacks.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:48 +0100


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:48 +0100


Started GET "/assets/tracks.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:48 +0100


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:48 +0100


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:48 +0100


Started GET "/assets/tracks.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:48 +0100


Started GET "/assets/omniauth_callbacks.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:48 +0100


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:48 +0100


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:48 +0100


Started GET "/assets/tech_ad.gif" for 127.0.0.1 at 2014-05-26 14:14:48 +0100


Started PUT "/users/1" for 127.0.0.1 at 2014-05-26 14:14:57 +0100
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IEMmBvNmSsE0bjrZVRWOeRnvY9FKOdxpb6lZXI+kCe0=", "user"=>{"gender_id"=>"1", "gender_interest_ids"=>["1"], "zipcode"=>"E8", "location"=>"London, United Kingdom"}, "commit"=>"Update User", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mGender Load (0.5ms)[0m  [1mSELECT "genders".* FROM "genders" WHERE "genders"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mGender Load (0.6ms)[0m  SELECT "genders".* FROM "genders" INNER JOIN "interests" ON "genders"."id" = "interests"."gender_id" WHERE "interests"."user_id" = 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "interests" ("created_at", "gender_id", "updated_at", "user_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Mon, 26 May 2014 13:14:57 UTC +00:00], ["gender_id", 1], ["updated_at", Mon, 26 May 2014 13:14:57 UTC +00:00], ["user_id", 1]]
  [1m[35m (0.9ms)[0m  UPDATE "users" SET "zipcode" = 'E8', "latitude" = 51.5412774, "longitude" = -0.0646194, "updated_at" = '2014-05-26 13:14:57.156502' WHERE "users"."id" = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "genders" INNER JOIN "interests" ON "genders"."id" = "interests"."gender_id" WHERE "interests"."user_id" = 1
Redirected to http://localhost:3000/users/1/home
Completed 302 Found in 111.3ms (ActiveRecord: 5.8ms)


Started GET "/users/1/home" for 127.0.0.1 at 2014-05-26 14:14:57 +0100
Processing by UsersController#home as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" [0m
  [1m[35mSQL (0.4ms)[0m  SELECT "genders".id FROM "genders" INNER JOIN "interests" ON "genders"."id" = "interests"."gender_id" WHERE "interests"."user_id" = 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE (id != 1)[0m
  [1m[35mSQL (0.4ms)[0m  SELECT "genders".id FROM "genders" INNER JOIN "interests" ON "genders"."id" = "interests"."gender_id" WHERE "interests"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE (id != 1)[0m
  Rendered users/home.html.haml within layouts/application (53.9ms)
  [1m[35mProfile Load (0.5ms)[0m  SELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 1 AND "messages"."viewed" = 'f'[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "pings" WHERE "pings"."pinged_id" = 1 AND "pings"."viewed" = 'f'
Completed 200 OK in 90.0ms (Views: 74.4ms | ActiveRecord: 4.1ms | Solr: 0.0ms)


Started GET "/assets/omniauth_callbacks.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:57 +0100


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:57 +0100


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:57 +0100


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:57 +0100


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:57 +0100


Started GET "/assets/tracks.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:57 +0100


Started GET "/assets/omniauth_callbacks.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:57 +0100


Started GET "/assets/tracks.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:57 +0100


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:57 +0100


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:57 +0100


Started GET "/assets/tech_ad.gif" for 127.0.0.1 at 2014-05-26 14:14:57 +0100


Started GET "/users/1/search" for 127.0.0.1 at 2014-05-26 14:14:59 +0100
Processing by UsersController#search as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mGender Load (0.3ms)[0m  [1mSELECT "genders".* FROM "genders" [0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" 
  [1m[36mProfile Load (0.4ms)[0m  [1mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 1 LIMIT 1[0m
  [1m[35mGender Load (0.3ms)[0m  SELECT "genders".* FROM "genders" WHERE "genders"."id" = 1 LIMIT 1
  Rendered users/search.html.haml within layouts/application (21.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "messages" WHERE "messages"."recipient_id" = 1 AND "messages"."viewed" = 'f'
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "pings" WHERE "pings"."pinged_id" = 1 AND "pings"."viewed" = 'f'[0m
Completed 200 OK in 62.5ms (Views: 49.3ms | ActiveRecord: 3.5ms | Solr: 0.0ms)


Started GET "/assets/omniauth_callbacks.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:59 +0100


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:59 +0100


Started GET "/assets/tracks.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:59 +0100


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:59 +0100


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:59 +0100


Started GET "/assets/styles.css?body=1" for 127.0.0.1 at 2014-05-26 14:14:59 +0100


Started GET "/assets/omniauth_callbacks.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:59 +0100


Started GET "/assets/tracks.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:59 +0100


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:59 +0100


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-05-26 14:14:59 +0100


Started GET "/assets/tech_ad.gif" for 127.0.0.1 at 2014-05-26 14:14:59 +0100


Started GET "/users/1/search?utf8=%E2%9C%93&q%5Bgender_id_eq_any%5D%5B%5D=2&q%5Bbirthday_lteq%5D=&q%5Bbirthday_gteq%5D=&q%5Bdistance%5D=&commit=Git" for 127.0.0.1 at 2014-05-26 14:15:07 +0100
Processing by UsersController#search as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"gender_id_eq_any"=>["2"], "birthday_lteq"=>"", "birthday_gteq"=>"", "distance"=>""}, "commit"=>"Git", "id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mGender Load (0.3ms)[0m  SELECT "genders".* FROM "genders" 
  [1m[36mUser Load (3.7ms)[0m  [1mSELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC[0m
PG::AmbiguousColumn: ERROR:  ORDER BY "distance" is ambiguous
LINE 1: ...ETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance A...
                                                             ^
: SELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users"  WHERE "users"."id" IN (SELECT "users"."id" FROM "users"  WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC
  Rendered users/search.html.haml within layouts/application (12.0ms)
Completed 500 Internal Server Error in 24.8ms

ActiveRecord::StatementInvalid - PG::AmbiguousColumn: ERROR:  ORDER BY "distance" is ambiguous
LINE 1: ...ETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance A...
                                                             ^
: SELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users"  WHERE "users"."id" IN (SELECT "users"."id" FROM "users"  WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC:
  activerecord (3.2.18) lib/active_record/connection_adapters/abstract_adapter.rb:285:in `rescue in log'
  activerecord (3.2.18) lib/active_record/connection_adapters/abstract_adapter.rb:280:in `log'
  activerecord (3.2.18) lib/active_record/connection_adapters/postgresql_adapter.rb:659:in `exec_query'
  activerecord (3.2.18) lib/active_record/connection_adapters/postgresql_adapter.rb:1262:in `select'
  activerecord (3.2.18) lib/active_record/connection_adapters/abstract/database_statements.rb:18:in `select_all'
  activerecord (3.2.18) lib/active_record/connection_adapters/abstract/query_cache.rb:61:in `block in select_all'
  activerecord (3.2.18) lib/active_record/connection_adapters/abstract/query_cache.rb:75:in `cache_sql'
  activerecord (3.2.18) lib/active_record/connection_adapters/abstract/query_cache.rb:61:in `select_all'
  activerecord (3.2.18) lib/active_record/querying.rb:38:in `block in find_by_sql'
  activerecord (3.2.18) lib/active_record/explain.rb:41:in `logging_query_plan'
  activerecord (3.2.18) lib/active_record/querying.rb:37:in `find_by_sql'
  activerecord (3.2.18) lib/active_record/relation.rb:171:in `exec_queries'
  activerecord (3.2.18) lib/active_record/relation.rb:160:in `block in to_a'
  activerecord (3.2.18) lib/active_record/explain.rb:34:in `logging_query_plan'
  activerecord (3.2.18) lib/active_record/relation.rb:159:in `to_a'
  activerecord (3.2.18) lib/active_record/relation/delegation.rb:6:in `each'
  app/views/users/search.html.haml:22:in `_app_views_users_search_html_haml___2555973533046376217_70153639006660'
  actionpack (3.2.18) lib/action_view/template.rb:145:in `block in render'
  activesupport (3.2.18) lib/active_support/notifications.rb:125:in `instrument'
  actionpack (3.2.18) lib/action_view/template.rb:143:in `render'
  actionpack (3.2.18) lib/action_view/renderer/template_renderer.rb:47:in `block (2 levels) in render_template'
  actionpack (3.2.18) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (3.2.18) lib/active_support/notifications.rb:123:in `block in instrument'
  activesupport (3.2.18) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (3.2.18) lib/active_support/notifications.rb:123:in `instrument'
  actionpack (3.2.18) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (3.2.18) lib/action_view/renderer/template_renderer.rb:46:in `block in render_template'
  actionpack (3.2.18) lib/action_view/renderer/template_renderer.rb:54:in `render_with_layout'
  actionpack (3.2.18) lib/action_view/renderer/template_renderer.rb:45:in `render_template'
  actionpack (3.2.18) lib/action_view/renderer/template_renderer.rb:18:in `render'
  actionpack (3.2.18) lib/action_view/renderer/renderer.rb:36:in `render_template'
  actionpack (3.2.18) lib/action_view/renderer/renderer.rb:17:in `render'
  actionpack (3.2.18) lib/abstract_controller/rendering.rb:110:in `_render_template'
  actionpack (3.2.18) lib/action_controller/metal/streaming.rb:225:in `_render_template'
  actionpack (3.2.18) lib/abstract_controller/rendering.rb:103:in `render_to_body'
  actionpack (3.2.18) lib/action_controller/metal/renderers.rb:28:in `render_to_body'
  actionpack (3.2.18) lib/action_controller/metal/compatibility.rb:50:in `render_to_body'
  actionpack (3.2.18) lib/abstract_controller/rendering.rb:88:in `render'
  actionpack (3.2.18) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (3.2.18) lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
  activesupport (3.2.18) lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
  /Users/jiveMacBook/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/benchmark.rb:296:in `realtime'
  activesupport (3.2.18) lib/active_support/core_ext/benchmark.rb:5:in `ms'
  actionpack (3.2.18) lib/action_controller/metal/instrumentation.rb:40:in `block in render'
  actionpack (3.2.18) lib/action_controller/metal/instrumentation.rb:83:in `cleanup_view_runtime'
  activerecord (3.2.18) lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
  sunspot_rails (2.1.1) lib/sunspot/rails/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
  actionpack (3.2.18) lib/action_controller/metal/instrumentation.rb:39:in `render'
  actionpack (3.2.18) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (3.2.18) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (3.2.18) lib/abstract_controller/base.rb:167:in `process_action'
  actionpack (3.2.18) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (3.2.18) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (3.2.18) lib/active_support/callbacks.rb:436:in `_run__854891522878852975__process_action__4486613159822119668__callbacks'
  activesupport (3.2.18) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.18) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
  activesupport (3.2.18) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.18) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.2.18) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (3.2.18) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
  activesupport (3.2.18) lib/active_support/notifications.rb:123:in `block in instrument'
  activesupport (3.2.18) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (3.2.18) lib/active_support/notifications.rb:123:in `instrument'
  actionpack (3.2.18) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.2.18) lib/action_controller/metal/params_wrapper.rb:207:in `process_action'
  activerecord (3.2.18) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (3.2.18) lib/abstract_controller/base.rb:121:in `process'
  actionpack (3.2.18) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.18) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.18) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.18) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.18) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.18) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.18) lib/action_dispatch/routing/route_set.rb:608:in `call'
  omniauth (1.2.1) lib/omniauth/strategy.rb:186:in `call!'
  omniauth (1.2.1) lib/omniauth/strategy.rb:164:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.5) lib/rack/etag.rb:23:in `call'
  rack (1.4.5) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/flash.rb:242:in `call'
  rack (1.4.5) lib/rack/session/abstract/id.rb:210:in `context'
  rack (1.4.5) lib/rack/session/abstract/id.rb:205:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/cookies.rb:341:in `call'
  activerecord (3.2.18) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.18) lib/active_record/connection_adapters/abstract/connection_pool.rb:479:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.18) lib/active_support/callbacks.rb:405:in `_run__1455892906659697866__call__419443361545239599__callbacks'
  activesupport (3.2.18) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.18) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.18) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.18) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.18) lib/rails/rack/logger.rb:32:in `call_app'
  railties (3.2.18) lib/rails/rack/logger.rb:16:in `block in call'
  activesupport (3.2.18) lib/active_support/tagged_logging.rb:22:in `tagged'
  railties (3.2.18) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.5) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.5) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.18) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.5) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.18) lib/action_dispatch/middleware/static.rb:63:in `call'
  rack-timeout (0.0.4) lib/rack/timeout.rb:16:in `block in call'
  /Users/jiveMacBook/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/timeout.rb:66:in `timeout'
  rack-timeout (0.0.4) lib/rack/timeout.rb:16:in `call'
  railties (3.2.18) lib/rails/engine.rb:484:in `call'
  railties (3.2.18) lib/rails/application.rb:231:in `call'
  rack (1.4.5) lib/rack/content_length.rb:14:in `call'
  railties (3.2.18) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.5) lib/rack/handler/webrick.rb:59:in `service'
  /Users/jiveMacBook/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
  /Users/jiveMacBook/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
  /Users/jiveMacBook/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread'



Started POST "/__better_errors/70153637334800/variables" for 127.0.0.1 at 2014-05-26 14:15:07 +0100
  [1m[35mUser Load (1.0ms)[0m  SELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC
PG::AmbiguousColumn: ERROR:  ORDER BY "distance" is ambiguous
LINE 1: ...ETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance A...
                                                             ^
: SELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users"  WHERE "users"."id" IN (SELECT "users"."id" FROM "users"  WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC[0m
PG::AmbiguousColumn: ERROR:  ORDER BY "distance" is ambiguous
LINE 1: ...ETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance A...
                                                             ^
: SELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users"  WHERE "users"."id" IN (SELECT "users"."id" FROM "users"  WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC
  [1m[35mUser Load (1.1ms)[0m  SELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC
PG::AmbiguousColumn: ERROR:  ORDER BY "distance" is ambiguous
LINE 1: ...ETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance A...
                                                             ^
: SELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users"  WHERE "users"."id" IN (SELECT "users"."id" FROM "users"  WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC[0m
PG::AmbiguousColumn: ERROR:  ORDER BY "distance" is ambiguous
LINE 1: ...ETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance A...
                                                             ^
: SELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users"  WHERE "users"."id" IN (SELECT "users"."id" FROM "users"  WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC
  [1m[35mUser Load (0.9ms)[0m  SELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users" WHERE "users"."id" IN (SELECT "users"."id" FROM "users" WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC
PG::AmbiguousColumn: ERROR:  ORDER BY "distance" is ambiguous
LINE 1: ...ETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance A...
                                                             ^
: SELECT users.*, 3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2))) AS distance, MOD(CAST((ATAN2( ((users.longitude - -0.0646194) / 57.2957795), ((users.latitude - 51.5412774) / 57.2957795)) * 57.2957795) + 360 AS decimal), 360) AS bearing FROM "users"  WHERE "users"."id" IN (SELECT "users"."id" FROM "users"  WHERE (("users"."gender_id" = 2))) AND (users.latitude BETWEEN -1395.7765537084797 AND 1498.8591085084795 AND users.longitude BETWEEN -2327.1267420893355 AND 2326.9975032893353 AND (3958.755864232 * 2 * ASIN(SQRT(POWER(SIN((51.5412774 - users.latitude) * PI() / 180 / 2), 2) + COS(51.5412774 * PI() / 180) * COS(users.latitude * PI() / 180) * POWER(SIN((-0.0646194 - users.longitude) * PI() / 180 / 2), 2)))) BETWEEN 0.0 AND 100000 AND users.id != 1) ORDER BY distance ASC
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20140516155704)
Migrating to CreateProfiles (20140516161834)
Migrating to CreateMessages (20140516165346)
Migrating to CreateFavorites (20140516165423)
Migrating to CreatePings (20140516170134)
Migrating to CreateInterests (20140516170145)
Migrating to CreateBlocks (20140516170216)
Migrating to FixRecepientColumnInMessages (20140517115337)
Migrating to AddSenderReadabilityAndRecipientReadabilityToMessages (20140517120950)
Migrating to AddDeviseToUsers (20140517135024)
Migrating to AddUidAndProviderToUsers (20140517141725)
Migrating to ChangeAgeToBirthdayInUsers (20140517202130)
Migrating to CreateGenders (20140519133105)
Migrating to ChangeGenderToGenderIdInUsers (20140519133830)
Migrating to ChangeOptionToGenderIdInInterests (20140519135405)
Migrating to ChangeTypeToTitleForGenders (20140519143127)
Migrating to AddAgeToUsers (20140520104844)
Migrating to RemoveAgeFromUsers (20140520110536)
Migrating to CreateTracks (20140521082545)
Migrating to AddZipcodeToUsers (20140521193440)
Migrating to AddGeoCoumnsToUsers (20140521221527)
Migrating to DropFavorites (20140522092726)
Migrating to AddViewedToMessages (20140522103904)
Migrating to AddDistanceToUsers (20140522110442)
Migrating to AddViewedToPings (20140522112119)
Migrating to AddColumnsToProfile (20140522212528)
Migrating to AddDefaultToIndustryInProfiles (20140522212758)
Migrating to RemoveDistanceFromUsers (20140526134414)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (2.6ms)[0m  [1mALTER TABLE "users" DROP "distance"[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20140526134414')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
